<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Gestão de Alunos</title>
</head>
<body>

	<h1>Gestão de Alunos</h1>
	<h:form id="form">
		<h:panelGrid columns="2">
			<h:outputLabel value="Nome" />
			<h:inputText value="#{alunoMB.aluno.nome}" />
			<h:outputLabel value="CPF" />
			<h:inputText value="#{alunoMB.aluno.cpf}" />
			<h:outputLabel value="Idade" />
			<h:inputText value="#{alunoMB.aluno.idade}" />
			<h:commandButton value="Salvar" action="#{alunoMB.save}">
				<f:ajax render="@form tabelaAluno" />
			</h:commandButton>
			<h:commandButton value="Limpar" action="#{alunoMB.clearForm}">
				<f:ajax render="@form" />
			</h:commandButton>
		</h:panelGrid>

	<h1>Lista de Alunos</h1>
	<h:dataTable value="#{alunoMB.alunos}" var="a" border="2"
		id="tabelaAluno">
		<h:column headerText="Nome">#{a.nome}</h:column>
		<h:column headerText="CPF">#{a.cpf}</h:column>
		<h:column headerText="Idade">#{a.idade}</h:column>
		<h:column headerText="Ações" width="150">
			<h:commandButton value="Editar" action="#{alunoMB.edit(a)}">
				<f:ajax render="@form" />
			</h:commandButton>
			<h:commandButton value="Excluir" action="#{alunoMB.remove}">
				<f:setPropertyActionListener value="#{a}" target="#{alunoMB.aluno}" />
				<f:ajax render="@form tabelaAluno" />
			</h:commandButton>
		</h:column>
	</h:dataTable>
	</h:form>

</body>
</html>